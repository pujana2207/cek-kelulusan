<!DOCTYPE html>
<html lang="id">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Pengumuman Kelulusan SMPN 1 Sukasada 2025</title>
  <script src="https://cdn.tailwindcss.com"></script>
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
  <style>
    @import url('https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;600;700&family=Bebas+Neue&display=swap');
    
    :root {
      --primary: #4facfe;
      --secondary: #00f2fe;
      --success: #4ade80;
      --danger: #f87171;
      --warning: #fbbf24;
      --lulus: #3b82f6;
    }
    
    body {
      font-family: 'Poppins', sans-serif;
      background: linear-gradient(135deg, var(--primary) 0%, var(--secondary) 100%);
      color: #fff;
      min-height: 100vh;
      overflow-x: hidden;
    }
    
    .title {
      font-family: 'Bebas Neue', sans-serif;
      font-size: 3.5rem;
      letter-spacing: 2px;
      text-shadow: 3px 3px 6px rgba(0,0,0,0.2);
      margin-bottom: 5px;
      background: linear-gradient(to right, white, #f0f9ff);
      -webkit-background-clip: text;
      -webkit-text-fill-color: transparent;
    }
    
    .subtitle {
      font-weight: 700; /* Dipertebal */
      font-size: 2rem; /* Diperbesar */
      opacity: 0.9;
      margin-bottom: 10px;
    }
    
    .principal-name {
      font-size: 2rem; /* Diperbesar */
      font-weight: 700;
      margin-bottom: 5px;
    }
    
    .principal-position {
      font-size: 1.5rem; /* Diperbesar */
      font-weight: 600;
      opacity: 0.8;
      margin-bottom: 20px;
    }
    
    .principal-greeting {
      font-size: 1.2rem; /* Diperkecil */
      font-weight: 400;
      margin-bottom: 10px;
    }
    
    .date-badge {
      background: rgba(255,255,255,0.2);
      padding: 5px 15px;
      border-radius: 20px;
      font-size: 0.9rem;
      display: inline-block;
      margin-bottom: 30px;
      backdrop-filter: blur(5px);
    }
    
    .search-box {
      background: rgba(255,255,255,0.15);
      border-radius: 20px;
      padding: 30px;
      box-shadow: 0 10px 30px rgba(0,0,0,0.2);
      backdrop-filter: blur(10px);
      border: 1px solid rgba(255,255,255,0.2);
      transition: all 0.3s ease;
    }
    
    .search-box:hover {
      transform: translateY(-5px);
      box-shadow: 0 15px 35px rgba(0,0,0,0.25);
    }
    
    .search-input {
      background: rgba(255,255,255,0.8);
      border: none;
      border-radius: 12px;
      padding: 15px 20px;
      font-size: 16px;
      text-align: center;
      transition: all 0.3s ease;
      box-shadow: 0 4px 10px rgba(0,0,0,0.1);
      color: #000;
    }
    
    .search-input:focus {
      outline: none;
      box-shadow: 0 0 0 3px rgba(255,255,255,0.4);
      background: rgba(255,255,255,0.9);
    }
    
    .search-btn {
      background: white;
      color: var(--primary);
      border: none;
      border-radius: 12px;
      padding: 15px 25px;
      font-weight: 600;
      font-size: 16px;
      cursor: pointer;
      transition: all 0.3s ease;
      box-shadow: 0 4px 15px rgba(0,0,0,0.1);
      display: flex;
      align-items: center;
      justify-content: center;
      gap: 10px;
    }
    
    .search-btn:hover {
      background: #f0f9ff;
      transform: translateY(-2px);
      box-shadow: 0 7px 20px rgba(0,0,0,0.15);
    }
    
    .search-btn:disabled {
      background: #e5e7eb;
      color: #9ca3af;
      cursor: not-allowed;
      transform: none;
      box-shadow: none;
    }
    
    .result-container {
      background: rgba(255,255,255,0.15);
      border-radius: 20px;
      padding: 30px;
      box-shadow: 0 10px 30px rgba(0,0,0,0.2);
      backdrop-filter: blur(10px);
      border: 1px solid rgba(255,255,255,0.2);
      animation: fadeIn 0.5s ease-out;
    }
    
    .status-badge {
      padding: 15px 25px;
      border-radius: 12px;
      font-weight: 700;
      font-size: 1.5rem;
      text-align: center;
      margin-bottom: 20px;
      display: flex;
      align-items: center;
      justify-content: center;
      gap: 10px;
    }
    
    .status-lulus {
      background: rgba(59, 130, 246, 0.2);
      color: var(--lulus);
      border: 2px solid var(--lulus);
    }
    
    .status-tidak-lulus {
      background: rgba(248, 113, 113, 0.2);
      color: var(--danger);
      border: 2px solid var(--danger);
    }
    
    .status-not-found {
      background: rgba(251, 191, 36, 0.2);
      color: var(--warning);
      border: 2px solid var(--warning);
    }
    
    .status-not-time {
      background: rgba(156, 163, 175, 0.2);
      color: #6b7280;
      border: 2px solid #6b7280;
    }
    
    .student-card {
      background: rgba(255,255,255,0.1);
      border-radius: 15px;
      padding: 20px;
      margin-top: 20px;
    }
    
    .student-info {
      display: grid;
      grid-template-columns: repeat(auto-fill, minmax(200px, 1fr));
      gap: 15px;
    }
    
    .info-item {
      display: flex;
      flex-direction: column;
    }
    
    .info-label {
      font-size: 0.85rem;
      opacity: 0.8;
      margin-bottom: 3px;
    }
    
    .info-value {
      font-weight: 600;
      font-size: 1.05rem;
    }
    
    .confetti {
      position: fixed;
      width: 10px;
      height: 10px;
      background-color: #f00;
      opacity: 0;
      z-index: 999;
      animation: confetti 5s ease-in-out;
    }
    
    .loading {
      width: 24px;
      height: 24px;
      border: 3px solid rgba(255,255,255,.3);
      border-radius: 50%;
      border-top-color: white;
      animation: spin 1s ease-in-out infinite;
    }
    
    .floating-items {
      position: absolute;
      width: 100%;
      height: 100%;
      top: 0;
      left: 0;
      pointer-events: none;
      z-index: -1;
      overflow: hidden;
    }
    
    .floating-item {
      position: absolute;
      background: rgba(255,255,255,0.1);
      border-radius: 50%;
      animation: float 15s infinite linear;
    }
    
    .countdown-container {
      background: rgba(0, 0, 0, 0.2);
      border-radius: 15px;
      padding: 20px;
      margin-bottom: 30px;
      text-align: center;
      backdrop-filter: blur(5px);
      border: 1px solid rgba(255,255,255,0.1);
    }
    
    .countdown-title {
      font-size: 1.2rem;
      margin-bottom: 15px;
      font-weight: 600;
      display: flex;
      align-items: center;
      justify-content: center;
      gap: 10px;
    }
    
    .countdown-timer {
      display: flex;
      justify-content: center;
      gap: 10px;
      flex-wrap: wrap;
    }
    
    .countdown-item {
      background: rgba(255,255,255,0.15);
      border-radius: 10px;
      padding: 10px 15px;
      min-width: 70px;
      text-align: center;
    }
    
    .countdown-value {
      font-size: 2rem;
      font-weight: 700;
      font-family: 'Bebas Neue', sans-serif;
      line-height: 1;
    }
    
    .countdown-label {
      font-size: 0.7rem;
      opacity: 0.8;
      text-transform: uppercase;
      letter-spacing: 1px;
    }
    
    .countdown-ended {
      font-size: 1.5rem;
      font-weight: 700;
      padding: 15px;
      background: rgba(59, 130, 246, 0.2);
      border-radius: 10px;
      border: 2px solid var(--lulus);
    }
    
    .announcement-opened {
      font-size: 2rem;
      font-weight: 700;
      padding: 15px;
      background: rgba(59, 130, 246, 0.2);
      border-radius: 10px;
      border: 2px solid var(--lulus);
      text-align: center;
      margin-bottom: 30px;
      animation: pulse 2s infinite;
    }
    
    /* Landing Page Styles */
    .landing-container {
      min-height: 100vh;
      display: flex;
      flex-direction: column;
      justify-content: center;
      align-items: center;
      padding: 2rem;
      text-align: center;
    }
    
    .principal-card {
      background: rgba(255,255,255,0.15);
      border-radius: 20px;
      padding: 30px;
      max-width: 800px;
      margin: 0 auto 40px;
      backdrop-filter: blur(10px);
      border: 1px solid rgba(255,255,255,0.2);
      box-shadow: 0 10px 30px rgba(0,0,0,0.2);
    }
    
    .principal-photo {
      width: 150px;
      height: 150px;
      border-radius: 50%;
      object-fit: cover;
      border: 4px solid rgba(255,255,255,0.3);
      margin: 20px auto;
      display: block;
      box-shadow: 0 5px 15px rgba(0,0,0,0.2);
    }
    
    .principal-message {
      font-size: 1.1rem;
      line-height: 1.6;
      margin-bottom: 30px;
      text-align: left;
    }
    
    .proceed-btn {
      background: white;
      color: var(--primary);
      border: none;
      border-radius: 12px;
      padding: 15px 30px;
      font-weight: 600;
      font-size: 1.2rem;
      cursor: pointer;
      transition: all 0.3s ease;
      box-shadow: 0 4px 15px rgba(0,0,0,0.1);
      display: inline-flex;
      align-items: center;
      justify-content: center;
      gap: 10px;
      margin-top: 20px;
    }
    
    .proceed-btn:hover {
      background: #f0f9ff;
      transform: translateY(-2px);
      box-shadow: 0 7px 20px rgba(0,0,0,0.15);
    }
    
    .school-logo {
      width: 150px;
      height: 150px;
      margin: 0 auto 20px;
      object-fit: contain;
      display: block;
    }
    
    .back-btn {
      background: rgba(255,255,255,0.2);
      color: white;
      border: none;
      border-radius: 12px;
      padding: 10px 20px;
      font-weight: 600;
      font-size: 1rem;
      cursor: pointer;
      transition: all 0.3s ease;
      display: inline-flex;
      align-items: center;
      justify-content: center;
      gap: 8px;
      margin-top: 10px;
      backdrop-filter: blur(5px);
    }
    
    .back-btn:hover {
      background: rgba(255,255,255,0.3);
      transform: translateY(-2px);
    }
    
    @keyframes fadeIn {
      from { opacity: 0; transform: translateY(20px); }
      to { opacity: 1; transform: translateY(0); }
    }
    
    @keyframes spin {
      to { transform: rotate(360deg); }
    }
    
    @keyframes confetti {
      0% { transform: translateY(0) rotate(0deg); opacity: 1; }
      100% { transform: translateY(1000px) rotate(720deg); opacity: 0; }
    }
    
    @keyframes pulse {
      0% { transform: scale(1); }
      50% { transform: scale(1.05); }
      100% { transform: scale(1); }
    }
    
    @keyframes float {
      0% { transform: translateY(0) rotate(0deg); }
      50% { transform: translateY(-20px) rotate(180deg); }
      100% { transform: translateY(0) rotate(360deg); }
    }
    
    .footer {
      margin-top: 40px;
      font-size: 0.9rem;
      opacity: 0.8;
      border-top: 1px solid rgba(255,255,255,0.2);
      padding-top: 20px;
    }
    
    .floating-whatsapp {
      position: fixed;
      bottom: 30px;
      right: 30px;
      background: #25D366;
      color: white;
      width: 60px;
      height: 60px;
      border-radius: 50%;
      display: flex;
      align-items: center;
      justify-content: center;
      font-size: 28px;
      box-shadow: 0 5px 15px rgba(0,0,0,0.2);
      z-index: 100;
      transition: all 0.3s ease;
    }
    
    .floating-whatsapp:hover {
      transform: scale(1.1);
      box-shadow: 0 8px 20px rgba(0,0,0,0.3);
    }
    
    @media (max-width: 640px) {
      .title {
        font-size: 2.5rem;
      }
      
      .subtitle {
        font-size: 1.5rem; /* Diperbesar untuk mobile */
      }
      
      .principal-name {
        font-size: 1.5rem; /* Diperbesar untuk mobile */
      }
      
      .principal-position {
        font-size: 1.2rem; /* Diperbesar untuk mobile */
      }
      
      .principal-greeting {
        font-size: 1rem; /* Diperkecil untuk mobile */
      }
      
      .search-box {
        padding: 20px;
      }
      
      .student-info {
        grid-template-columns: 1fr;
      }
      
      .floating-whatsapp {
        width: 50px;
        height: 50px;
        font-size: 24px;
        bottom: 20px;
        right: 20px;
      }
      
      .countdown-item {
        min-width: 60px;
        padding: 8px 10px;
      }
      
      .countdown-value {
        font-size: 1.5rem;
      }
      
      .announcement-opened {
        font-size: 1.5rem;
      }
      
      /* Landing Page Mobile Styles */
      .principal-card {
        padding: 20px;
      }
      
      .principal-photo {
        width: 120px;
        height: 120px;
      }
      
      .principal-message {
        font-size: 1rem;
      }
      
      .proceed-btn {
        padding: 12px 25px;
        font-size: 1rem;
      }
      
      .school-logo {
        width: 100px;
        height: 100px;
      }
    }
  </style>
</head>
<body>
  <!-- Floating background elements -->
  <div class="floating-items">
    <div class="floating-item" style="width: 100px; height: 100px; top: 10%; left: 5%; animation-delay: 0s;"></div>
    <div class="floating-item" style="width: 150px; height: 150px; top: 60%; left: 70%; animation-delay: 2s;"></div>
    <div class="floating-item" style="width: 80px; height: 80px; top: 30%; left: 80%; animation-delay: 4s;"></div>
    <div class="floating-item" style="width: 120px; height: 120px; top: 70%; left: 10%; animation-delay: 6s;"></div>
  </div>

  <!-- Landing Page Content (shown by default) -->
  <div id="landing-page" class="landing-container">

    <div class="text-center mb-8">
      <img src="https://i.ibb.co.com/3YjdDh2N/logo-sekolah-FINAL.png" alt="Logo SMPN 1 Sukasada" class="school-logo">
      <h1 class="title">PENGUMUMAN KELULUSAN</h1>
      <h2 class="subtitle">SMP NEGERI 1 SUKASADA</h2>
    </div>

    <div class="principal-card">
      <div class="principal-greeting">SAMBUTAN</div>
      <div class="principal-position">KEPALA SMP NEGERI 1 SUKASADA</div>
      
      <!-- Principal's Photo -->
      <img src="https://i.ibb.co.com/Q7y7VMz8/My-Chat-GPT-image.png" alt="My-Chat-GPT-image" alt="Foto Kepala Sekolah" class="principal-photo">
      
      <div class="principal-name">Ni Ketut Liesvi IsmawanTini, S.Pd., M.Pd.</div>
      
      <div class="principal-message">
        <p>Assalamualaikum warahmatullahi wabarakatuh, Om Swastiastu, Namo Buddhaya, Salam sejahtera bagi kita semua.</p>
        
        <p class="mt-4">Dengan mengucap syukur ke hadapan Tuhan Yang Maha Esa, kami sampaikan bahwa proses pembelajaran tahun ajaran 2024/2025 telah selesai dilaksanakan. Perjuangan dan kerja keras para siswa selama tiga tahun telah membuahkan hasil yang akan diumumkan hari ini.</p>
        
        <p class="mt-4">Kepada seluruh siswa kelas IX, apapun hasil yang kalian peroleh hari ini, ketahuilah bahwa kami sangat bangga dengan perjuangan kalian. Kelulusan bukanlah akhir, melainkan awal dari perjalanan baru yang lebih menantang.</p>
        
        <p class="mt-4">Terima kasih kepada seluruh orang tua/wali murid yang telah mendukung putra-putrinya selama menempuh pendidikan di SMP Negeri 1 Sukasada. Semoga kelulusan ini menjadi awal yang baik untuk meraih cita-cita yang lebih tinggi.</p>
        
        <p class="mt-4">Selamat dan sukses untuk semua!</p>
      </div>
      
      <div class="text-center">
        <button id="proceedBtn" class="proceed-btn" onclick="proceedToAnnouncement()">
          <i class="fas fa-arrow-right mr-2"></i> LIHAT PENGUMUMAN KELULUSAN
        </button>
      </div>
    </div>
    
    <div class="footer text-center">
      <p>© 2025 SMP Negeri 1 Sukasada | Gede Pujana</p>
      <p class="mt-2 text-sm opacity-70">Pengumuman ini bersifat resmi dan sah</p>
    </div>
  </div>

  <!-- Announcement Page Content (hidden by default) -->
  <div id="announcement-page" class="container mx-auto px-4 py-8 max-w-4xl" style="display: none;">
    <!-- Header -->
    <div class="text-center mb-8">
      <img src="https://i.ibb.co.com/3YjdDh2N/logo-sekolah-FINAL.png" alt="Logo SMPN 1 Sukasada" class="school-logo">
      <h1 class="title">PENGUMUMAN KELULUSAN</h1>
      <h2 class="subtitle">SMP NEGERI 1 SUKASADA</h2>
      <div class="date-badge">
        <i class="fas fa-calendar-alt mr-2"></i> 15 Juni 2025
      </div>
      <!-- Back Button moved below date badge -->
      <div class="text-center">
        <button class="back-btn" onclick="backToLanding()">
          <i class="fas fa-arrow-left mr-2"></i> Kembali ke Halaman Sambutan
        </button>
      </div>
    </div>

    <!-- Announcement Opened Banner (hidden by default) -->
    <div id="announcement-opened" class="announcement-opened hidden">
      <i class="fas fa-check-circle mr-2"></i> PENGUMUMAN TELAH DIBUKA!
    </div>

    <!-- Countdown Timer -->
    <div id="countdown" class="countdown-container">
      <div class="countdown-title">
        <i class="fas fa-clock"></i> Waktu Menuju Pengumuman Kelulusan
      </div>
      <div id="countdown-timer" class="countdown-timer">
        <div class="countdown-item">
          <div id="days" class="countdown-value">00</div>
          <div class="countdown-label">Hari</div>
        </div>
        <div class="countdown-item">
          <div id="hours" class="countdown-value">00</div>
          <div class="countdown-label">Jam</div>
        </div>
        <div class="countdown-item">
          <div id="minutes" class="countdown-value">00</div>
          <div class="countdown-label">Menit</div>
        </div>
        <div class="countdown-item">
          <div id="seconds" class="countdown-value">00</div>
          <div class="countdown-label">Detik</div>
        </div>
      </div>
    </div>

    <!-- Search Box -->
    <div class="search-box mb-8">
      <div class="mb-6">
        <input type="text" id="nisn" class="search-input w-full" placeholder="Masukkan NISN Anda" required>
        <p class="text-sm mt-2 opacity-70">Contoh: 1234567890</p>
      </div>
      <button id="cekBtn" class="search-btn w-full" onclick="cekKelulusan()">
        <span id="btnText">CEK KELULUSAN</span>
        <span id="btnLoading" class="loading" style="display: none;"></span>
      </button>
    </div>

    <!-- Results -->
    <div id="hasil" class="result-container" style="display: none;">
      <div id="status" class="status-badge">
        <i class="fas fa-spinner fa-spin"></i> Memproses...
      </div>
      
      <div class="student-card">
        <h3 class="text-xl font-bold mb-4 flex items-center">
          <i class="fas fa-user-graduate mr-2"></i> Data Siswa
        </h3>
        
        <div class="student-info">
          <div class="info-item">
            <span class="info-label">Nama Lengkap</span>
            <span id="nama-siswa" class="info-value">-</span>
          </div>
          
          <div class="info-item">
            <span class="info-label">Rata-rata Nilai</span>
            <span id="nilai" class="info-value">-</span>
          </div>
          
          <div class="info-item">
            <span class="info-label">Status Kelulusan</span>
            <span id="status-siswa" class="info-value">-</span>
          </div>
        </div>
      </div>
      
      <div id="next-steps" class="mt-6 hidden">
        <h3 class="text-xl font-bold mb-4 flex items-center">
          <i class="fas fa-arrow-right mr-2"></i> Langkah Selanjutnya
        </h3>
        <div class="bg-white bg-opacity-10 p-4 rounded-lg">
          <ul class="list-disc pl-5 space-y-2">
            <li>Ambil SKL di sekolah tanggal <span class="font-bold">20-25 Juni 2025</span></li>
            <li>Lakukan pendaftaran ke jenjang berikutnya sebelum <span class="font-bold">30 Juni 2025</span></li>
            <li>Hadiri acara perpisahan pada <span class="font-bold">18 Juni 2025</span> pukul 08.00 WITA</li>
          </ul>
        </div>
      </div>
    </div>

    <!-- Additional Info -->
    <div class="bg-white bg-opacity-10 rounded-xl p-6 mt-8">
      <h3 class="text-xl font-bold mb-4 flex items-center">
        <i class="fas fa-info-circle mr-2"></i> Informasi Penting
      </h3>
      <div class="space-y-4">
        <div class="flex items-start">
          <div class="bg-blue-500 bg-opacity-20 p-2 rounded-lg mr-3">
            <i class="fas fa-clock text-blue-300"></i>
          </div>
          <div>
            <h4 class="font-semibold">Jadwal Pengambilan SKL</h4>
            <p class="text-sm opacity-90">20-25 Juni 2025, pukul 08.00-14.00 WITA di ruang TU</p>
          </div>
        </div>
                
        <div class="flex items-start">
          <div class="bg-purple-500 bg-opacity-20 p-2 rounded-lg mr-3">
            <i class="fas fa-exclamation-triangle text-purple-300"></i>
          </div>
          <div>
            <h4 class="font-semibold">Persyaratan Pengambilan</h4>
            <p class="text-sm opacity-90">Mengunakan Pakaian Sekolah yang sopan</p>
          </div>
        </div>
      </div>
    </div>

    <!-- Footer -->
    <div class="footer text-center">
      <p>© 2025 SMP Negeri 1 Sukasada | Gede Pujana</p>
      <p class="mt-2 text-sm opacity-70">Pengumuman ini bersifat resmi dan sah</p>
    </div>
  </div>

  <script>
    // Hardcoded student data
    const studentData = [
      { nisn: "0094290739", nama: "Arya Putu Separsa Wijaya", nilai: "82.00", lulus: true },
      { nisn: "0093784782", nama: "Gusti Ayu Indah Handayani", nilai: "77.00", lulus: false },
      { nisn: "0094987607", nama: "Gusti Ayu Komang Sintia Sari", nilai: "45.00", lulus: false },
      { nisn: "0104005578", nama: "Gusti Made Dwi Cahya Putri", nilai: "88.00", lulus: true },
      { nisn: "0104330161", nama: "I Putu Lolyana Putra", nilai: "78.00", lulus: false },
      { nisn: "0107578538", nama: "Kadek Dwi Herawati", nilai: "88.00", lulus: true }
    ];
    
    // Announcement date and time (June 15, 2025 at 08:00 WITA)
    const ANNOUNCEMENT_DATE = new Date('2025-05-15T08:00:00+08:00');
    
    let isAnnouncementTime = false;
    
    // Function to proceed to announcement page
    function proceedToAnnouncement() {
      document.getElementById('landing-page').style.display = 'none';
      document.getElementById('announcement-page').style.display = 'block';
      
      // Scroll to top of the announcement page
      window.scrollTo(0, 0);
      
      // Start countdown timer
      updateCountdown();
      setInterval(updateCountdown, 1000);
      
      // Disable check button initially
      document.getElementById('cekBtn').disabled = true;
    }
    
    // Function to go back to landing page
    function backToLanding() {
      document.getElementById('landing-page').style.display = 'block';
      document.getElementById('announcement-page').style.display = 'none';
      
      // Scroll to top of the landing page
      window.scrollTo(0, 0);
    }
    
    // Countdown timer function
    function updateCountdown() {
      const now = new Date();
      const diff = ANNOUNCEMENT_DATE - now;
      
      if (diff <= 0) {
        isAnnouncementTime = true;
        // Hide countdown and show announcement opened banner
        document.getElementById('countdown').style.display = 'none';
        document.getElementById('announcement-opened').classList.remove('hidden');
        document.getElementById('cekBtn').disabled = false;
        return;
      }
      
      const days = Math.floor(diff / (1000 * 60 * 60 * 24));
      const hours = Math.floor((diff % (1000 * 60 * 60 * 24)) / (1000 * 60 * 60));
      const minutes = Math.floor((diff % (1000 * 60 * 60)) / (1000 * 60));
      const seconds = Math.floor((diff % (1000 * 60)) / 1000);
      
      document.getElementById('days').textContent = days.toString().padStart(2, '0');
      document.getElementById('hours').textContent = hours.toString().padStart(2, '0');
      document.getElementById('minutes').textContent = minutes.toString().padStart(2, '0');
      document.getElementById('seconds').textContent = seconds.toString().padStart(2, '0');
      
      if (days === 0 && hours < 12) {
        document.getElementById('countdown-timer').style.animation = 'pulse 1s infinite';
      }
    }
    
    function showLoading(show) {
      const btnText = document.getElementById('btnText');
      const btnLoading = document.getElementById('btnLoading');
      const cekBtn = document.getElementById('cekBtn');
      
      if (show) {
        btnText.style.display = 'none';
        btnLoading.style.display = 'inline-block';
        cekBtn.disabled = true;
      } else {
        btnText.style.display = 'inline-block';
        btnLoading.style.display = 'none';
        cekBtn.disabled = !isAnnouncementTime;
      }
    }

    function createConfetti() {
      const colors = ['#ff0000', '#00ff00', '#0000ff', '#ffff00', '#ff00ff', '#00ffff'];
      
      for (let i = 0; i < 100; i++) {
        const confetti = document.createElement('div');
        confetti.className = 'confetti';
        confetti.style.left = Math.random() * 100 + 'vw';
        confetti.style.backgroundColor = colors[Math.floor(Math.random() * colors.length)];
        confetti.style.width = Math.random() * 10 + 5 + 'px';
        confetti.style.height = Math.random() * 10 + 5 + 'px';
        confetti.style.animationDelay = Math.random() * 5 + 's';
        document.body.appendChild(confetti);
        
        setTimeout(() => {
          confetti.remove();
        }, 5000);
      }
    }
    
    function cekKelulusan() {
      if (!isAnnouncementTime) {
        const hasilDiv = document.getElementById('hasil');
        const statusDiv = document.getElementById('status');
        
        hasilDiv.style.display = 'block';
        statusDiv.className = 'status-badge status-not-time';
        statusDiv.innerHTML = '<i class="fas fa-clock mr-2"></i> BELUM WAKTUNYA PENGUMUMAN';
        
        document.getElementById('nama-siswa').textContent = '-';
        document.getElementById('nilai').textContent = '-';
        document.getElementById('status-siswa').textContent = '-';
        document.getElementById('next-steps').classList.add('hidden');
        
        hasilDiv.scrollIntoView({ behavior: 'smooth' });
        return;
      }
      
      const nisn = document.getElementById('nisn').value.trim();
      const hasilDiv = document.getElementById('hasil');
      const statusDiv = document.getElementById('status');
      const nextSteps = document.getElementById('next-steps');
      
      if (!nisn) {
        alert("Harap masukkan NISN dengan benar!");
        return;
      }
      
      if (!/^\d{10}$/.test(nisn) && !/^\d{8}$/.test(nisn)) {
        alert("NISN harus terdiri dari 8 atau 10 digit angka!");
        return;
      }
      
      try {
        showLoading(true);
        hasilDiv.style.display = 'block';
        statusDiv.innerHTML = '<i class="fas fa-spinner fa-spin mr-2"></i> Mencari data siswa...';
        
        setTimeout(() => {
          const siswa = studentData.find(s => s.nisn === nisn);
          
          if (siswa) {
            document.getElementById('nama-siswa').textContent = siswa.nama || '-';
            document.getElementById('nilai').textContent = siswa.nilai || '-';
            document.getElementById('status-siswa').textContent = siswa.lulus ? 'LULUS' : 'TIDAK LULUS';
            
            if (siswa.lulus) {
              statusDiv.className = 'status-badge status-lulus';
              statusDiv.innerHTML = '<i class="fas fa-check-circle mr-2"></i> SELAMAT! ANDA LULUS';
              nextSteps.classList.remove('hidden');
              createConfetti();
            } else {
              statusDiv.className = 'status-badge status-tidak-lulus';
              statusDiv.innerHTML = '<i class="fas fa-times-circle mr-2"></i> ANDA TIDAK LULUS';
              nextSteps.classList.add('hidden');
            }
          } else {
            statusDiv.className = 'status-badge status-not-found';
            statusDiv.innerHTML = '<i class="fas fa-exclamation-triangle mr-2"></i> DATA TIDAK DITEMUKAN';
            document.getElementById('nama-siswa').textContent = '-';
            document.getElementById('nilai').textContent = '-';
            document.getElementById('status-siswa').textContent = '-';
            nextSteps.classList.add('hidden');
          }
          
          showLoading(false);
          hasilDiv.scrollIntoView({ behavior: 'smooth' });
        }, 1000);
      } catch (error) {
        console.error('Error:', error);
        statusDiv.className = 'status-badge status-not-found';
        statusDiv.innerHTML = '<i class="fas fa-exclamation-triangle mr-2"></i> TERJADI KESALAHAN';
        showLoading(false);
      }
    }

    document.getElementById('nisn').addEventListener('keypress', function(e) {
      if (e.key === 'Enter') {
        cekKelulusan();
      }
    });

    // Initialize
    document.addEventListener('DOMContentLoaded', () => {
      // By default, show the landing page
      document.getElementById('landing-page').style.display = 'block';
      document.getElementById('announcement-page').style.display = 'none';
    });
  </script>
</body>
</html>
